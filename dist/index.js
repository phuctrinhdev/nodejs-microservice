"use strict";

var cov_1i6r1sfee9 = function () {
    var path = "/Users/hoangphuc/nowcrawler/build/index.js",
        hash = "002b00b4abbbeddc6cd7dccc748fd19714ba25ce",
        Function = function () {}.constructor,
        global = new Function('return this')(),
        gcv = "__coverage__",
        coverageData = {
        path: "/Users/hoangphuc/nowcrawler/build/index.js",
        statementMap: {
            "0": {
                start: {
                    line: 2,
                    column: 0
                },
                end: {
                    line: 2,
                    column: 62
                }
            },
            "1": {
                start: {
                    line: 3,
                    column: 16
                },
                end: {
                    line: 3,
                    column: 34
                }
            },
            "2": {
                start: {
                    line: 4,
                    column: 19
                },
                end: {
                    line: 4,
                    column: 41
                }
            },
            "3": {
                start: {
                    line: 5,
                    column: 15
                },
                end: {
                    line: 5,
                    column: 32
                }
            },
            "4": {
                start: {
                    line: 6,
                    column: 25
                },
                end: {
                    line: 6,
                    column: 53
                }
            },
            "5": {
                start: {
                    line: 7,
                    column: 17
                },
                end: {
                    line: 7,
                    column: 36
                }
            },
            "6": {
                start: {
                    line: 8,
                    column: 18
                },
                end: {
                    line: 8,
                    column: 38
                }
            },
            "7": {
                start: {
                    line: 9,
                    column: 13
                },
                end: {
                    line: 9,
                    column: 28
                }
            },
            "8": {
                start: {
                    line: 10,
                    column: 0
                },
                end: {
                    line: 10,
                    column: 98
                }
            },
            "9": {
                start: {
                    line: 18,
                    column: 12
                },
                end: {
                    line: 18,
                    column: 21
                }
            },
            "10": {
                start: {
                    line: 19,
                    column: 0
                },
                end: {
                    line: 28,
                    column: 4
                }
            },
            "11": {
                start: {
                    line: 21,
                    column: 8
                },
                end: {
                    line: 26,
                    column: 9
                }
            },
            "12": {
                start: {
                    line: 22,
                    column: 12
                },
                end: {
                    line: 22,
                    column: 24
                }
            },
            "13": {
                start: {
                    line: 25,
                    column: 12
                },
                end: {
                    line: 25,
                    column: 25
                }
            },
            "14": {
                start: {
                    line: 29,
                    column: 0
                },
                end: {
                    line: 31,
                    column: 4
                }
            },
            "15": {
                start: {
                    line: 32,
                    column: 0
                },
                end: {
                    line: 35,
                    column: 4
                }
            },
            "16": {
                start: {
                    line: 45,
                    column: 0
                },
                end: {
                    line: 45,
                    column: 28
                }
            },
            "17": {
                start: {
                    line: 46,
                    column: 0
                },
                end: {
                    line: 46,
                    column: 26
                }
            },
            "18": {
                start: {
                    line: 47,
                    column: 0
                },
                end: {
                    line: 47,
                    column: 35
                }
            },
            "19": {
                start: {
                    line: 48,
                    column: 0
                },
                end: {
                    line: 48,
                    column: 45
                }
            },
            "20": {
                start: {
                    line: 49,
                    column: 0
                },
                end: {
                    line: 53,
                    column: 3
                }
            },
            "21": {
                start: {
                    line: 50,
                    column: 4
                },
                end: {
                    line: 50,
                    column: 36
                }
            },
            "22": {
                start: {
                    line: 52,
                    column: 4
                },
                end: {
                    line: 52,
                    column: 148
                }
            }
        },
        fnMap: {
            "0": {
                name: "(anonymous_0)",
                decl: {
                    start: {
                        line: 20,
                        column: 10
                    },
                    end: {
                        line: 20,
                        column: 11
                    }
                },
                loc: {
                    start: {
                        line: 20,
                        column: 30
                    },
                    end: {
                        line: 27,
                        column: 5
                    }
                },
                line: 20
            },
            "1": {
                name: "(anonymous_1)",
                decl: {
                    start: {
                        line: 49,
                        column: 13
                    },
                    end: {
                        line: 49,
                        column: 14
                    }
                },
                loc: {
                    start: {
                        line: 49,
                        column: 42
                    },
                    end: {
                        line: 51,
                        column: 1
                    }
                },
                line: 49
            },
            "2": {
                name: "(anonymous_2)",
                decl: {
                    start: {
                        line: 51,
                        column: 27
                    },
                    end: {
                        line: 51,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 51,
                        column: 39
                    },
                    end: {
                        line: 53,
                        column: 1
                    }
                },
                line: 51
            }
        },
        branchMap: {
            "0": {
                loc: {
                    start: {
                        line: 21,
                        column: 8
                    },
                    end: {
                        line: 26,
                        column: 9
                    }
                },
                type: "if",
                locations: [{
                    start: {
                        line: 21,
                        column: 8
                    },
                    end: {
                        line: 26,
                        column: 9
                    }
                }, {
                    start: {
                        line: 21,
                        column: 8
                    },
                    end: {
                        line: 26,
                        column: 9
                    }
                }],
                line: 21
            }
        },
        s: {
            "0": 0,
            "1": 0,
            "2": 0,
            "3": 0,
            "4": 0,
            "5": 0,
            "6": 0,
            "7": 0,
            "8": 0,
            "9": 0,
            "10": 0,
            "11": 0,
            "12": 0,
            "13": 0,
            "14": 0,
            "15": 0,
            "16": 0,
            "17": 0,
            "18": 0,
            "19": 0,
            "20": 0,
            "21": 0,
            "22": 0
        },
        f: {
            "0": 0,
            "1": 0,
            "2": 0
        },
        b: {
            "0": [0, 0]
        },
        _coverageSchema: "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}();

cov_1i6r1sfee9.s[0]++;
Object.defineProperty(exports, "__esModule", { value: true });
var express = (cov_1i6r1sfee9.s[1]++, require("express"));
var bodyParser = (cov_1i6r1sfee9.s[2]++, require("body-parser"));
var logger = (cov_1i6r1sfee9.s[3]++, require("morgan"));
var expressValidator = (cov_1i6r1sfee9.s[4]++, require("express-validator"));
var config_1 = (cov_1i6r1sfee9.s[5]++, require("./config"));
var routers_1 = (cov_1i6r1sfee9.s[6]++, require("./routers"));
var cors = (cov_1i6r1sfee9.s[7]++, require("cors"));
cov_1i6r1sfee9.s[8]++;
console.log("Starting server with at " + process.pid + " on port " + config_1.config.server.port);
// Connect Database
// const MongoStore = mongo(session)
// console.log('mongo', config.database.mongo)
// mongoose.connect(config.database.mongo)
/**
 * Express configuration.
 */
var app = (cov_1i6r1sfee9.s[9]++, express());
cov_1i6r1sfee9.s[10]++;
app.use(logger('common', {
    skip: function skip(req, res) {
        cov_1i6r1sfee9.f[0]++;
        cov_1i6r1sfee9.s[11]++;

        if (req.url == '/_ah/health') {
            cov_1i6r1sfee9.b[0][0]++;
            cov_1i6r1sfee9.s[12]++;

            return true;
        } else {
            cov_1i6r1sfee9.b[0][1]++;
            cov_1i6r1sfee9.s[13]++;

            return false;
        }
    }
}));
cov_1i6r1sfee9.s[14]++;
app.use(bodyParser.json({
    limit: '50mb'
}));
cov_1i6r1sfee9.s[15]++;
app.use(bodyParser.urlencoded({
    extended: false,
    limit: '50mb'
}));
// app.use(session({
//     resave: true,
//     saveUninitialized: true,
//     secret: config.database.sessionSecret,
//     store: new MongoStore({
//         url: config.database.mongo,
//         autoReconnect: true
//     })
// }))
cov_1i6r1sfee9.s[16]++;
app.use(expressValidator());
cov_1i6r1sfee9.s[17]++;
app.use('/api/*', cors());
cov_1i6r1sfee9.s[18]++;
app.use('/api', routers_1.default);
cov_1i6r1sfee9.s[19]++;
app.set('port', config_1.config.server.port);
cov_1i6r1sfee9.s[20]++;
app.get('/', function (request, response) {
    cov_1i6r1sfee9.f[1]++;
    cov_1i6r1sfee9.s[21]++;

    response.send('App is running');
}).listen(app.get('port'), function () {
    cov_1i6r1sfee9.f[2]++;
    cov_1i6r1sfee9.s[22]++;

    console.log(config_1.config.server.name + " started at " + config_1.config.server.protocol + "://" + config_1.config.server.host + ":" + app.get('port'));
});
//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map
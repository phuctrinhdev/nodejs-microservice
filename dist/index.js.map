{"version":3,"sources":["../build/index.js"],"names":["Object","defineProperty","exports","value","express","require","bodyParser","logger","expressValidator","config_1","routers_1","cors","console","log","process","pid","config","server","port","app","use","skip","req","res","url","json","limit","urlencoded","extended","default","set","get","request","response","send","listen","name","protocol","host"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAMC,kCAAUC,QAAQ,SAAR,CAAV,CAAN;AACA,IAAMC,qCAAaD,QAAQ,aAAR,CAAb,CAAN;AACA,IAAME,iCAASF,QAAQ,QAAR,CAAT,CAAN;AACA,IAAMG,2CAAmBH,QAAQ,mBAAR,CAAnB,CAAN;AACA,IAAMI,mCAAWJ,QAAQ,UAAR,CAAX,CAAN;AACA,IAAMK,oCAAYL,QAAQ,WAAR,CAAZ,CAAN;AACA,IAAMM,+BAAON,QAAQ,MAAR,CAAP,CAAN;;AACAO,QAAQC,GAAR,CAAY,6BAA6BC,QAAQC,GAArC,GAA2C,WAA3C,GAAyDN,SAASO,MAAT,CAAgBC,MAAhB,CAAuBC,IAA5F;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAMC,8BAAMf,SAAN,CAAN;;AACAe,IAAIC,GAAJ,CAAQb,OAAO,QAAP,EAAiB;AACrBc,UAAM,cAAUC,GAAV,EAAeC,GAAf,EAAoB;AAAA;AAAA;;AACtB,YAAID,IAAIE,GAAJ,IAAW,aAAf,EAA8B;AAAA;AAAA;;AAC1B,mBAAO,IAAP;AACH,SAFD,MAGK;AAAA;AAAA;;AACD,mBAAO,KAAP;AACH;AACJ;AARoB,CAAjB,CAAR;;AAUAL,IAAIC,GAAJ,CAAQd,WAAWmB,IAAX,CAAgB;AACpBC,WAAO;AADa,CAAhB,CAAR;;AAGAP,IAAIC,GAAJ,CAAQd,WAAWqB,UAAX,CAAsB;AAC1BC,cAAU,KADgB;AAE1BF,WAAO;AAFmB,CAAtB,CAAR;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAP,IAAIC,GAAJ,CAAQZ,kBAAR;;AACAW,IAAIC,GAAJ,CAAQ,QAAR,EAAkBT,MAAlB;;AACAQ,IAAIC,GAAJ,CAAQ,MAAR,EAAgBV,UAAUmB,OAA1B;;AACAV,IAAIW,GAAJ,CAAQ,MAAR,EAAgBrB,SAASO,MAAT,CAAgBC,MAAhB,CAAuBC,IAAvC;;AACAC,IAAIY,GAAJ,CAAQ,GAAR,EAAa,UAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAAA;AAAA;;AACtCA,aAASC,IAAT,CAAc,gBAAd;AACH,CAFD,EAEGC,MAFH,CAEUhB,IAAIY,GAAJ,CAAQ,MAAR,CAFV,EAE2B,YAAY;AAAA;AAAA;;AACnCnB,YAAQC,GAAR,CAAeJ,SAASO,MAAT,CAAgBC,MAAhB,CAAuBmB,IAAtC,oBAAyD3B,SAASO,MAAT,CAAgBC,MAAhB,CAAuBoB,QAAhF,WAA8F5B,SAASO,MAAT,CAAgBC,MAAhB,CAAuBqB,IAArH,SAA6HnB,IAAIY,GAAJ,CAAQ,MAAR,CAA7H;AACH,CAJD;AAKA","file":"index.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst express = require(\"express\");\nconst bodyParser = require(\"body-parser\");\nconst logger = require(\"morgan\");\nconst expressValidator = require(\"express-validator\");\nconst config_1 = require(\"@/config\");\nconst routers_1 = require(\"./routers\");\nconst cors = require(\"cors\");\nconsole.log(\"Starting server with at \" + process.pid + \" on port \" + config_1.config.server.port);\n// Connect Database\n// const MongoStore = mongo(session)\n// console.log('mongo', config.database.mongo)\n// mongoose.connect(config.database.mongo)\n/**\n * Express configuration.\n */\nconst app = express();\napp.use(logger('common', {\n    skip: function (req, res) {\n        if (req.url == '/_ah/health') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n}));\napp.use(bodyParser.json({\n    limit: '50mb'\n}));\napp.use(bodyParser.urlencoded({\n    extended: false,\n    limit: '50mb'\n}));\n// app.use(session({\n//     resave: true,\n//     saveUninitialized: true,\n//     secret: config.database.sessionSecret,\n//     store: new MongoStore({\n//         url: config.database.mongo,\n//         autoReconnect: true\n//     })\n// }))\napp.use(expressValidator());\napp.use('/api/*', cors());\napp.use('/api', routers_1.default);\napp.set('port', config_1.config.server.port);\napp.get('/', function (request, response) {\n    response.send('App is running');\n}).listen(app.get('port'), function () {\n    console.log(`${config_1.config.server.name} started at ${config_1.config.server.protocol}://${config_1.config.server.host}:${app.get('port')}`);\n});\n//# sourceMappingURL=index.js.map"]}